<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ExpenseControl 0.5.2 - Gestão de Motorista</title>
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
    <link rel="stylesheet" href="style.css"> 
</head>
<body>
    <div class="container my-4">
        <h1 class="text-primary no-print"><i class="fas fa-car-side"></i> ExpenseControl 0.5.2 - Gestão de Corridas e Custos</h1>

        <div class="row mb-4 no-print">
            <div class="col-md-12">
                <div class="card p-3 shadow-sm bg-light">
                    <h6 class="mb-3 text-secondary"><i class="fas fa-filter"></i> Selecionar Período de Análise</h6>
                    <div class="d-flex align-items-center flex-wrap">
                        <select id="filtroMes" class="form-select me-2 mb-2 mb-md-0" style="max-width: 150px;"></select>
                        <select id="filtroAno" class="form-select me-3 mb-2 mb-md-0" style="max-width: 120px;"></select>
                        <button class="btn btn-primary" id="aplicarFiltro"><i class="fas fa-sync-alt"></i> Aplicar Filtro</button>
                        
                        <button class="btn btn-outline-secondary ms-auto" id="btnImprimirRelatorio"><i class="fas fa-print"></i> Imprimir Relatório do Período</button>
                    </div>
                </div>
            </div>
        </div>

        <div class="row mb-4" id="dashboard-resumo">
            </div>

        <div class="row no-print">
            <div class="col-lg-6 mb-4">
                <div class="card p-4 shadow-lg border-success">
                    <h5 class="card-title text-success"><i class="fas fa-hand-holding-usd"></i> Registrar Corrida (Receita)</h5>
                    <form id="formReceita">
                        <div class="mb-3"><label class="form-label">Cliente/App</label><input type="text" id="nomeCliente" class="form-control" required></div>
                        <div class="mb-3"><label class="form-label">Destino</label><input type="text" id="destino" class="form-control" required></div>
                        <div class="mb-3"><label class="form-label">Data</label><input type="date" id="dataReceita" class="form-control" value="" required></div>
                        <div class="mb-3"><label class="form-label">Valor (R$)</label><input type="number" id="valorReceita" class="form-control" step="0.01" required></div>
                        <button type="submit" class="btn btn-success w-100 mt-3"><i class="fas fa-save"></i> Salvar Receita</button>
                    </form>
                </div>
            </div>

            <div class="col-lg-6 mb-4">
                <div class="card p-4 shadow-lg border-danger">
                    <h5 class="card-title text-danger"><i class="fas fa-wallet"></i> Registrar Gasto (Despesa)</h5>
                    <form id="formDespesa">
                        <div class="mb-3">
                            <label class="form-label">Tipo de Gasto</label>
                            <select id="tipoGasto" class="form-select" required>
                                <option value="" disabled selected>Selecione a categoria</option>
                                <option value="Gasolina">Gasolina/Combustível</option>
                                <option value="Pedágio">Pedágio/Estacionamento</option>
                                <option value="Manutenção">Manutenção/Revisão</option>
                                <option value="Refeição">Refeição/Alimentação</option>
                                <option value="Outros">Outros Gastos</option>
                            </select>
                        </div>
                        <div class="mb-3"><label class="form-label">Descrição (Opcional)</label><input type="text" id="descricaoGasto" class="form-control"></div>
                        <div class="mb-3"><label class="form-label">Data</label><input type="date" id="dataDespesa" class="form-control" value="" required></div>
                        <div class="mb-3"><label class="form-label">Valor (R$)</label><input type="number" id="valorDespesa" class="form-control" step="0.01" required></div>
                        <button type="submit" class="btn btn-danger w-100"><i class="fas fa-save"></i> Salvar Despesa</button>
                    </form>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-12 mb-4">
                <div class="card p-4 shadow-sm" id="grafico-container">
                    <h5><i class="fas fa-chart-bar"></i> Comparativo Mensal (Receita x Gastos)</h5>
                    <canvas id="graficoComparativo"></canvas>
                </div>
            </div>
        </div>
        
        <div class="card p-4 shadow-lg mt-4" id="historico-container">
            <h5 class="card-title">Histórico de Transações</h5>

            <ul class="nav nav-tabs no-print" id="myTab" role="tablist">
                <li class="nav-item" role="presentation">
                    <button class="nav-link active" id="clientes-tab" data-bs-toggle="tab" data-bs-target="#clientes" type="button" role="tab" aria-controls="clientes" aria-selected="true">
                        <i class="fas fa-users"></i> Clientes (Receitas)
                    </button>
                </li>
                <li class="nav-item" role="presentation">
                    <button class="nav-link" id="despesas-tab" data-bs-toggle="tab" data-bs-target="#despesas" type="button" role="tab" aria-controls="despesas" aria-selected="false">
                        <i class="fas fa-gas-pump"></i> Despesas (Gastos)
                    </button>
                </li>
            </ul>

            <div class="tab-content" id="myTabContent">
                <div class="tab-pane fade show active" id="clientes" role="tabpanel" aria-labelledby="clientes-tab">
                    <div class="mt-3 mb-3 d-flex justify-content-between align-items-center no-print">
                        <input type="text" id="buscaCliente" class="form-control me-2" placeholder="Buscar por Cliente ou Destino...">
                    </div>
                    <div class="text-end mb-3 no-print">
                         <button class="btn btn-sm btn-outline-danger" id="btnApagarReceitasPeriodo"><i class="fas fa-trash-alt"></i> Apagar Receitas do Período</button>
                    </div>
                    <table class="table table-striped table-hover" id="tabelaReceitas">
                        <thead>
                            <tr><th>Cliente/App</th><th>Destino</th><th>Valor</th><th>Data</th><th class="no-print">Ações</th></tr>
                        </thead>
                        <tbody>
                            </tbody>
                    </table>
                </div>

                <div class="tab-pane fade" id="despesas" role="tabpanel" aria-labelledby="despesas-tab">
                     <div class="text-end mt-3 mb-3 no-print">
                         <button class="btn btn-sm btn-outline-danger" id="btnApagarDespesasPeriodo"><i class="fas fa-trash-alt"></i> Apagar Despesas do Período</button>
                    </div>
                    <table class="table table-striped table-hover" id="tabelaDespesas">
                        <thead>
                            <tr><th>Tipo</th><th>Descrição</th><th>Valor</th><th>Data</th><th class="no-print">Ações</th></tr>
                        </thead>
                        <tbody>
                            </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="script.js"></script>
</body>
</html>